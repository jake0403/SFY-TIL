# 5장 네트워크 계층 : 목적지에 데이터 전달하기

---

## LESSON 18 IP 주소의 구조

> 네트워크 간의 통신을 하려면 IP 주소가 필요하다. 이번에는 IP 구조에 대해 알아보자.



### 1. IP 주소란?

IP 주소는 실생활에 비유하면 주소와 같은 개념이다. 우편물을 보내려면 주소가 필요하다. 그와 비슷하게 데이터를 다른 네트워크 목적지로 보내려면 IP 주소가 필요하다.

IP 주소는 **ISP(인터넷 서비스 제공자)**에게 받을 수 있다.

IP 버전에는 IPv4와 IPv6가 있다. 현재 주로 사용하고 있는 **IPv4** 주소는 32bit로 되어 있어서 IP 주소를 약 43억 개 만들 수 있는데, 처음 IP 주소를 만들 때는 43억 개면 충분하다고 생각했다. 하지만 점점 부족해지고 있고, IPv6는 128bit로 되어 있어서 IPv4보다 많은 IP 주소를 만들 수 있다.

IP 주소에는 **공인 IP 주소**와 **사설 IP 주소**가 있다. 참고로 공인 IP 주소는 ISP에서 제공한다.

그렇다면 왜 IP 주소를 두 종류로 나누었을까?

IPv4 주소는 사용할 수 있는 주소의 수가 고갈되고 있다. 그래서 인터넷에 직접 연결되는 컴퓨터나 라우터에는 **공인 IP 주소**를 할당하고, 회사나 가정의 랜에 있는 컴퓨터는 **사설 IP 주소**를 할당하는 정책을 사용하고 있다.

그래서 우선 ISP가 제공하는 공인 IP 주소는 라우터에만 할당하고 랜 안에 있는 컴퓨터에는 랜의 네트워크 관리자가 자유롭게 사설 IP 주소를 할당하거나 라우터의 **DHCP** 기능을 사용하여 주소를 자동으로 할당한다.

>  **DHCP**(Dynamic Host Configuration Protocol) :  사설 IP 주소를 자동으로 할당하는 프로토콜

IP 주소와 MAC 주소는 비트 수가 다르다.

* MAC 주소 : 48 bit    => 16진수로 표시
* IP 주소 : 32 bit   => 10진수로 표시

원래는 IP 주소는 2진수로 되어 있지만 10진수로 표시한다.

> ex) 11000000(2진수)  => 128 + 64 + 0 + 0 + 0 +.... = 192
>
> IP 주소 : 192.168.XX

IP 주소는 32 bit 이기 때문에 8 bit(= 1 옥탯)으로 나눈다.  => 4개로 나눠짐, 따라서 00000000 ~ 11111111로 범위를 나눌 수 있기 때문에 10진수 범위는 0 ~ 255까지 이다.

또 이 IP 주소는 **네트워크 ID**와 **호스트 ID**로 나눠져 있다.

* 네트워크 ID : '어떤 네트워크' 인지를 나타냄

  > 모든 호스트들을 관리하기 힘들기에 한 Network의 범위를 지정해( 호스트의 집합) 관리하기 쉽게 만들어 낸 것이다.

  

* 호스트 ID : '해당 네트워크의 어느 컴퓨터'인지를 나타냄

  > 호스트들을 개별적으로 관리하기 위해 사용하게 된 것이다.

이 두 가지 정보가 합쳐져서 IP 주소가 되는 것이다.



* Lesson 18 정리
  * 데이터를 다른 네트워크로 전달하려면 IP 주소가 필요하다.
  * IP 주소는 인터넷 서비스 공급자에게 할당받을 수 있다.
  * IPv4의 IP 주소는 32 bit,  IPv6의 IP 주소는 128 bit로 구성되어 있다.
  * IP 주소의 종류에는 공인 IP 주소와 사설 IP 주소가 있다.
  * IP 주소는 네트워크 ID와 호스트 ID로 나누어진다.