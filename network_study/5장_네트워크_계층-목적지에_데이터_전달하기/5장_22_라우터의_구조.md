# 5장 네트워크 계층 : 목적지에 데이터 전달하기

---

## LESSON 22. 라우터의 구조

> 서로 다른 네트워크와 통신하려면 라우터가 필요하다. 라우터에 대해서 알아보자.



### 1. 라우터(router)란?

서로 다른 네트워크와 통신하려면 라우터가 필요하다고 했다. 라우터는 **네트워크를 분리**할 수 있다.

한편 스위치(L2 스위치)만 있는 네트워크에서는 모든 컴퓨터와 스위치가 동일한 네트워크에 속하게 된다. 허브도 스위치와 마찬가지로 네트워크를 분리할 수 없다.

하지만 라우터가 있으면 네트워크를 분할할 수 있다. 예를 들어 네트워크1에 속해 있는 컴퓨터1이 네트워크 2에 속해 있는 컴퓨터 6에 접속한다고 가정하자. 컴퓨터 1이 다른 네트워크에 데이터를 전송하려면 <u>라우터의 IP 주소를 설정해야 한다.</u> 이것은 네트워크의 출입구를 설정하는 것으로 **디폴트 게이트웨이**(default gateway)라고 한다.

그럼 라우터 IP는 왜 설정해야 할까?

컴퓨터 1은 다른 네트워크로 데이터를 보낼 때 어디로 전송해야 하는지 알지 못한다. 그래서 **네트워크의 출입구**를 지정하고 일단은 라우터로 데이터를 전송한다. 여기에서 컴퓨터 1은 192. 168. 1. 0 /24 네트워크에 속해 있기 때문에 라우터의 IP 주소인 192. 168. 1. 1로 설정한 것이다.

라우터 IP 주소는 어디에서 설정할까?

![image-20210201220858896](C:\Users\이재상\AppData\Roaming\Typora\typora-user-images\image-20210201220858896.png)

제어판 => 네트워크 공유센터 => 이더넷 및 와이파이(더블 클릭) => 이더넷 상태 팝업창 하단 속성(p) 클릭 => 네트워킹 탭에서 인터넷 프로토콜 버전4(TCP/IP) 더블 클릭

위와 같이  '자동으로 IP 주소 받기'에 체크되어 있으면 네트워크 외부에 접속할 때 사용되는 **기본 게이트웨이**가 자동으로 설정된다.

추가로 **라우팅**(routing) 기능이 필요하다.



### 2. 라우팅이란?

앞에서도 말했지만 **라우팅**은 경로 정보를 기반으로 현재의 네트워크에서 다른 네트워크로 최적의 경로를 통해 데이터를 전송한다. 이 경로 정보가 등록되어 있는 테이블이 **라우팅 테이블**이다.

각 라우터의 라우팅 테이블에 경로 정보가 등록되어 있으면 라우팅이 가능하다.

라우팅 테이블은 어떻게 등록할까?

네트워크 관리자가 수동으로 등록하는 방법과 자동으로 등록하는 방법이 있다. **수동으로 등록하는 방법**은 소규모 네트워크에 적합하고, **자동으로 등록하는 방법**은 대규모 네트워크에 적합하다.

이처럼 라우터 간에 라우팅 정보를 교환하기 위한 프로토콜을 **라우팅 프로토콜**이라고 한다. 이 라우팅 프로토콜을 설정하여 라우터 간에 경로 정보를 서로 교환하고 그것을 라우팅 테이블에 등록해 나가는 것이다.

대표적인 라우팅 프로토콜에는 **RIP**, **OSPF**, **BGP** 등이 있고 각각 다른 특징이 있다.



* Lesson 22 정리
  * 서로 다른 네트워크와  통신하려면 라우터가 필요하다.
  * 라우터는 네트워크를 분할할 수 있지만 스위치(L2 스위치)와 허브는 분할할 수 없다.
  * 컴퓨터에서 다른 네트워크로 데이터를 전송하려면 기본 게이트웨이를 설정해야 한다.
  * 라우팅은 경로 정보를 기반으로 현재의 네트워크에서 다른 네트워크로 최적의 경로를 통해 데이터를 전송하는 방식이다.
  * 경로 정보가 등록되어 있는 테이블을 라우팅 테이블이라고 한다.
  * 라우터 간에 라우팅 정보를 서로 교환하기 위한 프로토콜을 라우팅 프로토콜이라고 한다.